interface graphCache
	# dataPoint.time must align with an exact interval point as defined in the retention config
	insert(datapoint) 
	flush()
	read(from, until)

minCache
	insert(datapoint)
		if exists cache[dataPoint.time]
			if cache[dataPoint.time] > dataPoint.value
				cache[dataPoint.time] = dataPoint.value
		else
			stored = backend.get(dataPoint.time)
			cache[dataPoint.time] = stored > dataPoint.value ? dataPoint.value : stored

maxCache
	insert(datapoint)
		if exists cache[dataPoint.time]
			if cache[dataPoint.time] < dataPoint.value
				cache[dataPoint.time] = dataPoint.value
		else
			stored = backend.get(dataPoint.time)
			cache[dataPoint.time] = stored < dataPoint.value ? dataPoint.value : stored

averageCache
	insert(datapoint)
		if exists countCache[datapoint.time]
			countCache[datapoint.time] += 1
			valueCache[datapoint.time] += datapoint.value
		else
			countCache[datapoint.time] = countBackend.get(dataPoint.time) + 1
			valueCache[datapoint.time] = valueBackend.get(datapoint.time) + datapoint.value

whisperBackend
	init(name)
	get(time)
	write(dataPoint[])